## 1. 项目背景

AI带来的效率悖论体现在技术发展的各个层面中，技术的发展带来效率的提升，也加剧了供需双方匹配和验证的成本。Elfiee把意图、实现、验证、逻辑链条串在一起，为供需双方提供统一的**共同工作面**，同时将**决策资产化**，从拉齐应用层面供需的角度解决验证成本失控与决策失忆的问题，同时为多智能体协作的涌现式工作流提供可信的基础支撑，从而避免预设流程的脆弱性与无效迭代。

## 2. 项目目标

围绕**共同工作面**与**决策资产化**，项目形成七阶段目标：

1. 阶段1：MVP Demo - 人类协作基础（Week 1-2，Demo Day）：**在不使用AI的前提下**，验证 Elfiee 作为多角色协作平台的基础能力。在内部部协作场景中，验证这一能力。
2. 阶段2：人与AI单轮协作（Week 3-4）：在已有的基础能力前提下，**引入AI能力**，验证使用Elfiee进行AI协作的可行性，并在内部部协作场景中，验证这一能力。
3. 阶段3：逻辑链条可视化（Week 5-6）：实现**非线性知识关系**的可视化，让团队能看到决策之间的因果关系，并梳理内部协作场景中的决策逻辑链条。
4. 阶段4：基于elfiee的AI多轮协作（Week 6-9）：实现基于**非线性知识关系**的AI多轮协作，并在开放的benchmark数据集中验证Elfiee为多智能体协作带来的效率提升和成本优化。
5. 阶段5：形成可复用模板（Week 10-12）：基于**CBAC权限模型**，将协作过程沉淀为可复用的.elf模板，为社区中的技术推广和分享提供基础能力。
6. 阶段6：形成离线协作能力（Week 12-15）：实现**分布式冲突检测**，支持多人离线协作后的精准合并，为多方共建去中心化agent应用平台提供基础能力。
7.阶段7：外部验证与推广（Week 6-15）：执行开源计划，在社区中进行技术推广，并在广泛的外部场景中进行验证，反馈收集和迭代。

## 3. 第一阶段用户故事
### 3.1 用户画像

2-10人AI-native团队，包含不少于PM, DEVELOPER等两个职能角色。当AI加入后，工作效率得以提升，在需求、验证、实现中出现交叉，却由于缺少统一的工作平台与决策追踪手段，导致大量返工或时间/算力成本的浪费。具体分析参考 立项材料.pdf

### 3.2.故事逻辑
在内部开发中，一般有三类角色参与：
   - PM: 提出需求，查验效果
   - Prompter: 整理给AI代码生成工具的prompt，AI应用可以调用prompt，生成代码
   - Developer：给出测试，修改代码，提pr

团队中实际的协作开发流程如图所示：
    ![角色和工作流](../figs/mvp-user-story-flow.png)
具体的步骤如下：

   - （1）PM：创建项目，demo-project.elf
   - （2）PM: 点击进入项目，创建文档，前端修改.md
   - （3）PM：点击 前端需求.md，添加协作者，Developer, Prompter，添加权限
   - （4）PM: 编辑 前端需求.md，填写需求
   - （5）Prompter: 编辑 前端需求.md，根据需求写prompt
   - （6）Prompter: 添加项目代码至demo-project.elf
   - （7）Prompter：编辑代码
   - （8）Prompter: 编辑 前端需求.md，将变更的文件引用至prompt章节下
   - （9）PM: 本地运行代码，查验效果
   - （10）PM & Prompter: 重复步骤（4）到步骤（9），直到PM确认效果
   - （11）Developer：查验代码，根据修改文件，添加测试
   - （12）Developer: 编辑 前端需求.md，给出新增的测试思路，添加测试文件的引用
   - （13）Prompter：根据测试需求添加修改代码的prompt
   - （14）PM & Developer: 查验代码
   - （15）Developer: 提交至仓库

### 3.3. 用户故事拆分和价值点

为实现第一阶段，为人类协作提供**统一工作面**和**决策资产化**的目标，将MVP拆分两个页面和9个用户故事进行实现，具体的demo演示，参考 立项材料.pdf.
 
 #### 1. Dashboard页面
  -  (1) .elf文件的添加，删除，改名
     -  **价值点**： elf系统的起始操作
     -  创建.elf文件
     -  导入.elf文件
     -  重命名.elf文件
     -  删除.elf文件
  -  (2) list .elf文件，显示信息：名称，协作者、路径。
     -  **价值点**：查看.elf项目信息

 #### 2. Editor页面
  -  directory模块
     -  (3) 分区显示内部directory和外部directory
        -  **价值点**：区分内外部文件，融合多个工作目录
     -  (4) 通用能力：
        -  **价值点**：索引/整理多个工作区文件，将elf项目关联到实际文件
        -  创建文件/文件夹
        -  删除文件/文件夹
        -  重命名文件/文件夹
     -  外部directory能力：
        -  导入文件/文件夹
  -  (5) 编辑模块：
     -  **价值点**：通用格式编辑，集成文字和代码
     -  编辑markdown
     -  显示区分文字和代码块。
  -  配置模块
     -  (6) 显示info:
        -  **价值点**：显示文件信息
        -  title
        -  owner/creator
        -  description
        -  创建时间（optional，需评估可行性）
     -  (7) 协作者模块：
        -  **价值点**：管理协作者，后续形成组织和模板的基础
        -  列出协作者
        -  添加协作者
        -  移除协作者
        -  指定协作者权限（read/write/delete）
  -  (8) event记录模块
     -  **价值点**：记录每一项决策和逻辑链条
     -  显示event（显示操作人员和操作名称）
     -  按照eventdb中的向量时钟，排序event
     -  (9) 回溯某个event的状态
        -  **价值点**：记录决策上下文状态

 ## 4.第一阶段MVP功能模块支持和优先级排序

|  功能模块               | 细分功能       | 开发任务                         |  预计人时 |
|---------------------|------------|------------------------------|-------|
| .elf文件管理            | .elf文件CRUD | 创建                           | 1     |
|                     |            | 导入                           | 1     |
|                     |            |  重命名                         | 3     |
|                     |            |  删除                          | 2     |
|                     | .elf文件展示   | 获取.elf文件信息                   | 2     |
|                     |            |  展示名称、协作者、路径                    | 3     |
|                     |            | dashboard页面                  | 4     |
| directory extension | 基础能力       |  导入                          | 4     |
|                     |            |  创建                          | 2     |
|                     |            |  删除                          | 2     |
|                     |            |  重命名                         | 2     |
|                     |            |  刷新                          | 4     |
|                     |            | 导出                           | 4     |
|                     |  页面目录栏     |  内部目录                        | 6     |
|                     |            | 外部目录                         | 6     |
| markdown extension  | md 编辑      | 数据格式修改                       | 6     |
|                     | md显示       | myst语法和适配                    | 6     |
| block数据结构           | 数据结构修改     | title/owner/descriotion/time | 4     |
|                     |            | 引擎修改                         | 6     |
|                     | 显示信息       | payload修改                    | 3     |
|                     |            | info页面修改                     | 4     |
| 协作者和权限              |  基础功能      | 协作者增删                        | 1     |
|                     |            | 权限管理                         | 1     |
|                     | 权限显示       |  权限页面修改                      | 4    |
| event模块             | event解析    | 操作人员/名称/内容                   | 4     |
|                     |            | event排序                      | 7     |
|                     | event回溯    | 回溯功能                         | 7     |
|                     |            | 快照功能（optional）               | 6     |
|                     | 显示和交互      | 查看列表                         | 6     |
|                     |            | 回溯操作                         | 6     |
|                     |            | 对比显示（optional）               | 2     |
| 总计                  |            |                              | 119   |

---

|  产品工作项               | 细分工作项       | 任务                         |  预计人时 |
|---------------------|------------|------------------------------|-------|
| 竞品分析              | 找竞品      |                            | 12     |
|                     | 评估竞品     | 设计user story              | 2     |
|                     |            |  user story test            | 8     |
|                     | 分析评估结果  | 分析需求空缺                   | 4     |
|                     |            |  分析功能优先级                    | 4     |
|                     |            |  设计快速原型实验                  | 6     |
| 快速原型实验           | 实验一       |  制作原型                          | 8     |
|                     |            |  进行 user story test                | 4     |
|                     | 实验二       |  制作原型                          | 8     |
|                     |            |  进行 user story test               | 4     |
| 总计                  |            |                              | 60   |
